<html>
    <head>
        <meta charset="utf-8">
        <title>Light OIDC</title>
        <script src="scripts/common.js"></script>
        <script src="scripts/user.js"></script>
        <script src="scripts/settings.js"></script>
        <link rel="stylesheet" href="style.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <nav></nav>
        <div id="content">
            <h1>Einstellungen</h1>
            <form>
                <fieldset>
                    <legend>
                        Benutzer-Einstellungen
                    </legend>
                    <table>
                        <tr>
                            <th>Benutzername</th>
                            <td><input id="username" type="text"></td>
                        </tr>
                        <tr>
                            <th>Anzeigename</th>
                            <td><input id="realname" type="text"></td>
                        </tr>
                        <tr>
                            <th>E-Mail</th>
                            <td><input id="email" type="email"></td>
                        </tr>
                        <tr>
                            <th>Sitzungs-Länge</th>
                            <td>
                                <input id="session_duration" type="range" value="50" min="1" max="103" oninput="durationUpdate()"/>
                                <br/>
                                <span id="days"></span> Tage, <span id="hours"></span> Stunden, <span id="minutes"></span> Minuten
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><button id="updateBtn" type="button" onClick="update()">Aktualisieren</button></td>
                        </tr>
                    </table>
                </fieldset>
                <fieldset>
                    <legend>
                        Passwort
                    </legend>
                    <table>
                        <tr>
                            <th>altes Passwort</th>
                            <td><input id="oldpass" type="password"></td>
                        </tr>
                        <tr>
                            <th>ID</th>
                            <td><input id="uuid" type="text" disabled="true"></td>
                        </tr>
                        <tr id="update_error" style="display: none">
                            <th>Fehler</th>
                            <td class="warning">Aktualisierung der Einstellungen fehlgeschlagen!</td>
                        </tr>
                        <tr>
                            <th>Neues Passwort</th>
                            <td><input id="newpass1" type="password"></td>
                        </tr>
                        <tr>
                            <th>Passwort wiederholen</th>
                            <td><input id="newpass2" type="password" onkeydown="passKeyDown()"></td>
                        </tr>
                        <tr id="wrong_password" style="display: none">
                            <th>Fehler</th>
                            <td class="warning">falsches Passwort!</td>
                        </tr>
                        <tr id="password_mismatch" style="display: none">
                            <th>Fehler</th>
                            <td class="warning">Passwort und Wiederholung stimmen nicht überein!</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><button id="passBtn" type="button" onClick="updatePass()">Aktualisieren</button></td>
                        </tr>
                    </table>
                </fieldset>
                <br/>
                <fieldset id="mail_settings" style="display: none">
                    <legend>
                        Mail-Einstellungen
                    </legend>
                    <table>
                        <tr>
                            <th>Smtp-Host</th>
                            <td><input type="text" id="smtp_host" placeholder="Smtp-Host"></td>
                        </tr>
                        <tr>
                            <th>Smtp-Port</th>
                            <td><input type="number" id="smtp_port"></td>
                        </tr>
                        <tr>
                            <th>Smtp-Nutzer</th>
                            <td><input type="text" id="smtp_user" placeholder="Smtp-Nutzer"></td>
                        </tr>
                        <tr>
                            <th>Smtp-Passwort</th>
                            <td><input type="password" id="smtp_pass" placeholder="Passwort"></td>
                        </tr>
                        <tr>
                            <th>Sicherheit</th>
                            <td>
                                <label>
                                    <input type="checkbox" id="smtp_auth"> Auth
                                </label>
                                <label>
                                    <input type="checkbox" id="start_tls"> StartTLS
                                </label>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><button id="smtpBtn" type="button" onClick="updateSmtp()">Aktualisieren</button></td>
                        </tr>
                    </table>
                </fieldset>
            </form>
        </div>
    </body>
</html>
